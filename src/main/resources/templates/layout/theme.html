<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head th:fragment="mainHead">

  <title>Bitwise Open Wallet</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <link rel="stylesheet" href="/css/bootstrap.min.css" crossorigin="anonymous">
  <link rel="apple-touch-icon" sizes="57x57" href="/favicon/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/favicon/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/favicon/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/favicon/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/favicon/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/favicon/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/favicon/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/favicon/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/favicon/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/favicon/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <style>
    html, body { font-family: Roboto, AppleSDGothicNeoM00; height: 100%; }
    body { background: url(/img/blockchain-globe.gif) right bottom no-repeat fixed; }; }
    a { color: #1976d2; }
    .col, .col-1, .col-10, .col-11, .col-12, .col-2, .col-3, .col-4, .col-5, .col-6, .col-7, .col-8, .col-9, .col-auto, .col-lg, .col-lg-1, .col-lg-10, .col-lg-11, .col-lg-12, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-auto, .col-md, .col-md-1, .col-md-10, .col-md-11, .col-md-12, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-auto, .col-sm, .col-sm-1, .col-sm-10, .col-sm-11, .col-sm-12, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-auto, .col-xl, .col-xl-1, .col-xl-10, .col-xl-11, .col-xl-12, .col-xl-2, .col-xl-3, .col-xl-4, .col-xl-5, .col-xl-6, .col-xl-7, .col-xl-8, .col-xl-9, .col-xl-auto {
      padding-left: 6px;
      padding-right: 6px;
      margin-bottom: 10px;
    }
    table td { background-color: white; }
    .btn-light { border-color: rgba(0,0,0,.125); }
    .badge { font-weight: normal; }
    .ellipsis { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .btn-group>.btn:hover { background-color: rgb(159, 168, 218); }
    .first-row .card { min-height: 270px; }
    .container-fluid { padding: 15px 20px; }
    .card-body { padding: 0.4rem; min-height: 97px; }
	
    .navbar { background-color: white !important; -webkit-box-shadow: 3px 3px 5px -4px rgba(0, 0, 0, 0.75);
      -moz-box-shadow: 3px 3px 5px -4px rgba(0, 0, 0, 0.75);
      box-shadow: 3px 3px 5px -4px rgba(0, 0, 0, 0.75); }
    .navbar .btn { padding: 0; }
    .navbar-light .navbar-nav.nav-pills .nav-link.active { color: white; }
    .nav-pills .nav-link.active, .nav-pills .show>.nav-link { background-color: #43bedd; }
    a.nav-link { font-size: 16px; color: inherit; min-width: 62px; }
    .btn-group .svg-inline--fa { font-size: 20px; }
    #btn-amt-values .btn { padding: 2px 11px; }
    .btn-walletname { min-width: 50px; }
    .btn-link-ext { background-image: url(/img/ic-ext.png); background-size: 12px;
      background-repeat: no-repeat; background-position: right 5px top 5px; }
    .table { margin-bottom: 0; }
    .table th { text-align: center; vertical-align: middle; font-size: 0.75rem; color: #444444; }
    .table thead th { background-color: #c9ecf5; }
    .table td { text-align: center; vertical-align: middle; font-size: 0.66rem; max-width: 200px; }
    .table td.uid { overflow-x: hidden; }
    h5 > button { margin-bottom: 7px; }
    .blue-text { color: #1976d2; }

    #errors td:first-child { color: #d50000; }
    #swagger-iframe { height: 100%; min-height: 640px; }
    #progress-wrapper { position: absolute; top: 50%; left: 50%;
      transform: translate(-50%, -50%); }
    #floating-btn-wrapper { position: absolute; right: 0%; bottom: 0%; transform: translate(-10%, -10%);
      box-shadow: 0 5px 11px 0 rgba(0,0,0,.18), 0 4px 15px 0 rgba(0,0,0,.15);
      z-index: 1; vertical-align: middle; display: inline-block; overflow: hidden;
      transition: all .2s ease-in-out; margin: 10px; border-radius: 50%; padding: 0;
      cursor: pointer; width: 47px; height: 47px;}
    #chainName { font-size: 22px; font-weight: bold; color: #555555; }
    #walletInfos table tbody th { text-align: center; }
    #walletInfos table tbody td { text-align: right; }
    #transferModal th, #transferModal td { font-size: .875rem; }
    .mr-auto { margin: 0 auto!important; }
  </style>

</head>

<body th:fragment="mainBody">

<div style="height: 100%;">
  <!-- Image and text -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="/">
      <img src="/img/logo-300.png" style="width:150px; height: 30px;"
           class="d-inline-block align-top" alt="logo">
    </a>

    <!-- mobile expand btn -->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Top menu -->
    <div class="collapse navbar-collapse" id="navbarNav">

      <ul class="navbar-nav mr-auto nav-pills">
        <li class="nav-item">
          <a class="nav-link" th:classappend="${menuIdx==0}?active" href="/">Dashboard</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:classappend="${menuIdx==1}?active" href="/page/wallet">Wallet</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:classappend="${menuIdx==2}?active" href="/page/tx">Transaction</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:classappend="${menuIdx==3}?active" href="/page/api">API</a>
        </li>
      </ul>

      <!-- Right buttons -->
      <form class="form-inline my-2 my-lg-0">
        <span id="chainName" th:text="${symbol}"></span>&nbsp;
        <span class="badge badge-pill badge-info" style="margin-right: 12px;" th:text="${networkType}"></span>
        <div class="btn-group" role="group" aria-label="Basic example">
            <button type="button" class="btn btn-outline-info btn-link-ext">
              <a class="nav-link" href="https://live.blockcypher.com/btc-testnet/" target="_blank"
                 data-toggle="tooltip" data-placement="auto" title="Block Explorer">
                <i class="fas fa-globe-americas"></i>
              </a>
            </button>
            <button type="button" class="btn btn-outline-info btn-link-ext" th:if="${isTestnet}">
              <a class="nav-link" href="https://testnet-faucet.mempool.co/" target="_blank"
                 data-toggle="tooltip" data-placement="auto" title="Testnet Faucet">
                <i class="fas fa-hand-holding-usd"></i>
              </a>
            </button>
            <button type="button" class="btn btn-outline-info" data-toggle="tooltip" data-placement="auto" title="Node Settings">
              <a class="nav-link" data-toggle="modal" data-target="#settingModal">
                <i class="fas fa-cogs"></i>
              </a>
            </button>
        </div>
      </form>
    </div>
  </nav>

  <div class="container-fluid" style="height: 90%;">

    <th:block layout:fragment="content"></th:block>

  </div>

</div>

<!-- Modal #1 Setting -->
<div class="modal fade" id="settingModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle"><i class="fas fa-cogs"></i>&nbsp;&nbsp;Settings</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-3">Blockchain</div>
            <div class="col-md-5 ml-auto">
              <select class="custom-select mr-sm-2" id="blockchain-type">
                <option value="btc" selected>Bitcoin</option>
                <option value="ltc">Litecoin</option>
                <option value="bch">Bitcoin Cash</option>
                <option value="bsv">Bitcoin SV</option>
                <option value="doge">Dogecoin</option>
                <option value="btg">Bitcoin Gold</option>
                <option value="bcd">Bitcoin Diamond</option>
              </select>
            </div>
            <div class="col-md-4 ml-auto">
              <div class="custom-control custom-checkbox mr-sm-2">
                <label class="custom-control-label" for="check-testnet">Testnet</label>
                <input class="custom-control-input" type="checkbox" id="check-testnet">
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-3">Node</div>
            <div class="col-md-9 ml-auto" style="margin-left: 0;">
              <div class="short-div row">
                <div class="col-md-4">IP</div>
                <div class="col-md-8"><input type="text" class="form-control" id="node-ip" placeholder="localhost"></div>
              </div>
              <div class="short-div row">
                <div class="col-md-4">RPC Port</div>
                <div class="col-md-8">
                  <input type="text" class="form-control" id="rpc-port" placeholder="18333">
                </div>
              </div>
              <div class="short-div row">
                <div class="col-md-4">RPC User</div>
                <div class="col-md-8">
                  <input type="text" class="form-control" id="rpc-user" placeholder="btc-user">
                </div>
              </div>
              <div class="short-div row">
                <div class="col-md-4">RPC Password</div>
                <div class="col-md-8">
                  <input type="text" class="form-control" id="rpc-pw" placeholder="******">
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-3">Database</div>
            <div class="col-md-9 ml-auto" style="margin-left: 0;">
              <div class="short-div row">
                <div class="col-md-4">IP</div>
                <div class="col-md-8"><input type="text" class="form-control" id="db-ip" placeholder="localhost"></div>
              </div>
              <div class="short-div row">
                <div class="col-md-4">Port</div>
                <div class="col-md-8">
                  <input type="text" class="form-control" id="db-port" placeholder="18333">
                </div>
              </div>
              <div class="short-div row">
                <div class="col-md-4">User</div>
                <div class="col-md-8">
                  <input type="text" class="form-control" id="db-user" placeholder="btc-user">
                </div>
              </div>
              <div class="short-div row">
                <div class="col-md-4">Password</div>
                <div class="col-md-8">
                  <input type="text" class="form-control" id="db-pw" placeholder="******">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-info">Apply</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal #2 Wallet Info -->
<div class="modal fade" id="walletModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"><i class="fas fa-wallet"></i>&nbsp;&nbsp;Wallet Info</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid" style="padding: 0;">
          <table class="table table-bordered table-sm">
            <thead>
            <tr>
              <th scope="col" style="width: 50%;">Property</th>
              <th scope="col" style="width: 50%;">Value</th>
            </tr>
            </thead>
            <tbody id="walletInfos">
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal #3 Transfer -->
<div class="modal fade" id="transferModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"><i class="fas fa-fighter-jet"></i>&nbsp;&nbsp;Transfer</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid" style="padding: 0;">
          <table class="table table-bordered table-sm">
            <tbody>
            <tr>
              <th scope="col" style="width: 40%;">From Wallet</th>
              <td scope="col" style="width: 60%;" id="fromWallet"></td>
            </tr>
            <tr>
              <th scope="col" style="width: 40%;">Wallet Lock</th>
              <td scope="col" style="width: 60%;" id="walletLock"></td>
            </tr>
            <tr>
              <th scope="col">To Address</th>
              <td scope="col"><input type="text" class="form-control form-control-sm" id="toAddress"></td>
            </tr>
            <tr>
              <th scope="col">Balance</th>
              <td scope="col" id="fromBalance" class="text-right blue-text">Please wait...</td>
            </tr>
            <tr>
              <th scope="col">Amount</th>
              <td scope="col" id="btn-amt-values">
                <input type="number" id="send-amt" class="form-control form-control-sm text-right">
                <div class="btn-group btn-group-sm" role="group"
                     aria-label="First group">
                  <button type="button" id="btn-amt-10" class="btn btn-outline-secondary" onclick="setAmount(this);">&nbsp;10%</button>
                  <button type="button" id="btn-amt-25" class="btn btn-outline-secondary" onclick="setAmount(this);">&nbsp;25%</button>
                  <button type="button" id="btn-amt-50" class="btn btn-outline-secondary" onclick="setAmount(this);">&nbsp;50%</button>
                  <button type="button" id="btn-amt-75" class="btn btn-outline-secondary" onclick="setAmount(this);">&nbsp;75%</button>
                  <button type="button" id="btn-amt-100" class="btn btn-outline-secondary" onclick="setAmount(this);">100%</button>
                </div>
              </td>
            </tr>
            <tr id="row-pp" style="display: none;">
              <th scope="col">Passphrase</th>
              <td scope="col" class="text-right blue-text">
                <input type="password" id="pp" class="form-control form-control-sm text-center">
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Cancel</button>
        <a href="javascript:transfer();"><button type="button" class="btn btn-info">Send</button></a>
      </div>
    </div>
    </div>
  </div>
</div>

<!-- Modal #4 Create Wallet -->
<div class="modal fade" id="createWalletModal" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"><i class="fas fa-wallet"></i>&nbsp;&nbsp;Wallet Info</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid" style="padding: 0;">
          <table class="table table-bordered table-sm">
            <tbody>
              <tr>
                <th scope="col" style="width: 50%;">From the Wallet</th>
                <td scope="col" style="width: 50%;"></td>
              </tr>
              <tr>
                <th scope="col" style="width: 50%;">To the Address</th>
                <td scope="col" style="width: 50%;"></td>
              </tr>
              <tr>
                <th scope="col" style="width: 50%;">Amount</th>
                <td scope="col" style="width: 50%;"></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- progress -->
<div id="progress-wrapper" class="d-flex justify-content-center">
  <div id="progress-spinner" class="spinner-border text-info" role="status"
       style="width: 3rem; height: 3rem; display: none;">
    <span class="sr-only">Loading...</span>
  </div>
</div>

<!-- floating button -->
<div id="floating-btn-wrapper" class="d-flex justify-content-center">
  <a class="btn-floating btn-lg btn-default waves-effect waves-light"><i class="fas fa-info"></i></a>
</div>

<script src="https://use.fontawesome.com/releases/v5.11.2/js/all.js"></script>
<script src="/js/jquery-3.4.0.min.js"></script>
<script src="/js/popper.min.js" crossorigin="anonymous"></script>
<script src="/js/bootstrap.min.js" crossorigin="anonymous"></script>
<th:block layout:fragment="script"></th:block>

</body>
</html>